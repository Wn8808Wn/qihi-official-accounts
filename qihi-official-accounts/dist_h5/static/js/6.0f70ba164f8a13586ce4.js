webpackJsonp([6],{"6ONn":function(e,t,a){"use strict";var r=a("/Bf6"),i=(r.a,String,Boolean,String,String,String,{name:"tab-item",mixins:[r.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-item",class:[e.currentSelected?e.activeClass:"",{"vux-tab-selected":e.currentSelected,"vux-tab-disabled":e.disabled}],style:e.style,on:{click:e.onItemClick}},[e._t("default"),e._v(" "),void 0!==e.badgeLabel&&""!==e.badgeLabel?a("span",{staticClass:"vux-tab-item-badge",style:{background:e.badgeBackground,color:e.badgeColor}},[e._v("\n  "+e._s(e.badgeLabel))]):e._e()],2)},staticRenderFns:[]},n=a("C7Lr")(i,s,!1,null,null,null);t.a=n.exports},D7sX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=a.n(r),s=a("/QXl"),n=a("VawC"),o=a("6ONn"),l=a("6beY"),c=(n.a,o.a,l.a,{components:{Tab:n.a,TabItem:o.a,commonTabbar:l.a},data:function(){return{index:0,list:[]}},methods:{longTimeAgo:function(e,t,a){var r=(e.split(" ")[0]+" "+t).replace(/-/g,"/"),i=new Date(r).getTime()+6e4*a;return this.formatDate(i,"hh:mm")},goDetails:function(e){if(0===e.payStatus&&0===e.orderType){var t={examPlanId:e.playerList[0].examPlanId,linkMan:e.playerList[0].linkman,phone:e.playerList[0].phone,totalPrice:e.totalFee,playerslist:e.playerList,examRoomName:e.roomName,examLevelTitle:e.examLevels,address:e.address,examTime:e.examTime,orderNo:e.orderNo,createdTime:e.createdTime,orderId:e.orderId,unitPrice:e.playerList[0].examFee};sessionStorage.setItem("routerObj",i()(t)),this.$router.push({name:"orderDetails"})}if(0===e.payStatus&&1===e.orderType){var a={examPlanId:e.playerList[0].examPlanId,linkMan:e.playerList[0].linkman,phone:e.playerList[0].phone,totalFee:e.totalFee,certificateList:e.playerList,examLevel:e.examLevel,orderNo:e.orderNo,createdTime:e.createdTime,orderId:e.orderId};sessionStorage.setItem("detailsObj",i()(a)),this.$router.push({name:"certificatePay"})}if(1===e.payStatus&&0===e.orderType){console.log(e,"已支付考试");var r={examRoomName:e.roomName,address:e.address,examLevelTitle:e.examLevels,examTime:e.examTime,linkMan:e.playerList[0].linkman,totalPrice:e.totalFee,phone:e.playerList[0].phone,playerslist:e.playerList,unitPrice:e.totalFee/e.playerList.length,createdTime:e.createdTime,orderNo:e.orderNo,orderId:e.orderId,timeStr:e.timeStr};sessionStorage.setItem("payOffTime",i()(e.playerList[0].payTime)),sessionStorage.setItem("routerObj",i()(r)),this.$router.push({name:"checkOrder"})}if(1===e.payStatus&&1===e.orderType){console.log(e);var s={examLevelTitle:e.examLevels,totalPrice:e.totalFee,certificateList:e.playerList,unitPrice:e.totalFee/e.playerList.length,createdTime:e.createdTime,orderNo:e.orderNo,orderId:e.orderId};sessionStorage.setItem("certificatePayOffTime",e.playerList[0].payTime),sessionStorage.setItem("detailsObj",i()(s)),this.$router.push({name:"checkCertificateOrder"})}},getList:function(e){var t=this;this.$axios.get("/api/order/orderAll_list",{params:e}).then(function(e){t.list=[],0===e.data.code&&(t.list=e.data.data.info,t.list.map(function(e){e.examTime=e.examTime.split(" ")[0].replace(/-/g,".")+" "+t.formatDate(e.examTime,"hh:mm")+"-"+t.longTimeAgo(e.examTime,e.examTime.split(" ")[1],parseInt(e.timeStr))}),t.$nextTick(function(){t.scroll=new s.a(t.$refs.orderListWrapper,{click:!0})}))})},selectedCurrent:function(e){if(this.index=e,0==e){this.getList({userId:1})}if(1==e){this.getList({userId:1,payStatus:0})}if(2==e){this.getList({userId:1,payStatus:1})}},refundBtn:function(){alert("功能开发中")},handlePay:function(e){if(console.log(e,"item"),0===e.orderType){var t={examPlanId:e.playerList[0].examPlanId,linkMan:e.playerList[0].linkman,phone:e.playerList[0].phone,totalPrice:e.totalFee,playerList:e.playerList,examRoomName:e.roomName,examLevelTitle:e.examLevels,address:e.address,examTime:e.examTime,orderNo:e.orderNo,createdTime:e.createdTime,orderId:e.orderId,unitPrice:e.totalFee/e.playerList.length};sessionStorage.setItem("routerObj",i()(t)),this.$router.push({name:"orderDetails"})}else{var a={examPlanId:e.playerList[0].examPlanId,linkMan:e.playerList[0].linkman,phone:e.playerList[0].phone,totalFee:e.totalFee,certificateList:e.playerList,examLevel:e.examLevel,orderNo:e.orderNo,createdTime:e.createdTime,orderId:e.orderId};sessionStorage.setItem("detailsObj",i()(a)),this.$router.push({name:"certificatePay"})}},checkTicket:function(){alert("功能开发中")}},created:function(){this.getList({userId:1})}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myOrderPage"},[a("tab",{attrs:{"line-width":2,"custom-bar-width":"44px","default-color":"#333333","active-color":"#2069E5"},model:{value:e.index,callback:function(t){e.index=t},expression:"index"}},[a("tab-item",{attrs:{selected:""},on:{"on-item-click":e.selectedCurrent}},[e._v("全部")]),e._v(" "),a("tab-item",{on:{"on-item-click":e.selectedCurrent}},[e._v("待付款")]),e._v(" "),a("tab-item",{on:{"on-item-click":e.selectedCurrent}},[e._v("已付款")])],1),e._v(" "),a("div",{ref:"orderListWrapper",staticClass:"orderList orderListWrapper"},[a("ul",{staticClass:"content"},[e._l(e.list,function(t,r){return a("div",{key:r,on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.goDetails(t)}}},[a("p",[0===t.orderType?a("span",{staticClass:"firstSpan"},[e._v("中国围棋协会段级位考试")]):e._e(),e._v(" "),1===t.orderType?a("span",{staticClass:"firstSpan"},[e._v("中国围棋协会段级位认证服务")]):e._e(),e._v(" "),0===t.payStatus?a("span",[e._v("等待付款")]):e._e(),e._v(" "),1===t.payStatus?a("span",{staticStyle:{color:"#666666"}},[e._v("已付款")]):e._e(),e._v(" "),2===t.payStatus?a("span",{staticStyle:{color:"#666666"}},[e._v("已关闭")]):e._e()]),e._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[e._v("考试级别")]),e._v(" "),a("span",[e._v(e._s(t.examLevels))])]),e._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[e._v("考试时间")]),e._v(" "),a("span",[e._v(e._s(t.examTime))])]),e._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[e._v("报名棋手")]),e._v(" "),1===t.playerList.length?a("span",[e._v(e._s(t.playerList[0].playerName))]):e._e(),e._v(" "),t.playerList.length>=2?a("span",[e._v(e._s(t.playerList[0].playerName)+" 等"+e._s(t.playerList.length)+"人")]):e._e()]),e._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[e._v("需付费用")]),e._v(" "),a("span",{staticStyle:{color:"#ED1A23"}},[e._v("¥"+e._s(t.totalFee))])]),e._v(" "),a("div",{staticClass:"btnGrps"},[0===t.payStatus?a("button",{staticClass:"bgBtn",on:{click:function(a){return e.handlePay(t)}}},[e._v("去支付")]):e._e()]),e._v(" "),a("div",{staticClass:"btnGrps"},[1===t.payStatus?a("button",{on:{click:e.refundBtn}},[e._v("申请发票")]):e._e()])])}),e._v(" "),a("p",{staticClass:"bottomBar"},[e._v("\n            已加载全部\n        ")])],2)]),e._v(" "),a("commonTabbar")],1)},staticRenderFns:[]};var u=a("C7Lr")(c,d,!1,function(e){a("LA6S")},"data-v-aaf0041a",null);t.default=u.exports},LA6S:function(e,t){},VawC:function(e,t,a){"use strict";var r=a("/Bf6"),i=(r.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String,{name:"tab",mixins:[r.b],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.$refs.nav,t=this.scrollable?e.offsetWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/t)+"%"}},barRight:function(){if(this.hasReady){var e=this.$refs.nav,t=this.scrollable?e.offsetWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(t-this.currentIndex-1)*(100/t)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,background:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.background="transparent":e.background=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0;window.requestAnimationFrame(function r(){var i=e.$refs.nav;i.scrollLeft+=(t.offsetLeft-(i.offsetWidth-t.offsetWidth)/2-i.scrollLeft)/15,++a<15&&window.requestAnimationFrame(r)})}}}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-wrap",class:"top"===e.barPosition?"vux-tab-bar-top":""},[a("div",{staticClass:"vux-tab-container"},[a("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!e.animate},{scrollable:e.scrollable}]},[e._t("default"),e._v(" "),e.animate?a("div",{staticClass:"vux-tab-ink-bar",class:e.barClass,style:e.barStyle},[e.customBarWidth?a("span",{staticClass:"vux-tab-bar-inner",style:e.innerBarStyle}):e._e()]):e._e()],2)])])},staticRenderFns:[]};var n=a("C7Lr")(i,s,!1,function(e){a("sWzH")},null,null);t.a=n.exports},sWzH:function(e,t){}});
//# sourceMappingURL=6.0f70ba164f8a13586ce4.js.map