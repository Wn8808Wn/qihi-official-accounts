webpackJsonp([15],{"0oVj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),i=a.n(n),s=a("CtzY"),o=a.n(s),c=a("uiKT"),r=a("C5VE"),l=(Boolean,Boolean,String,Number,Array,{name:"x-switch",methods:{toBoolean:function(t){return this.valueMap?1===this.valueMap.indexOf(t):t},toRaw:function(t){return this.valueMap?this.valueMap[t?1:0]:t}},props:{disabled:Boolean,value:{type:[Boolean,String,Number],default:!1},valueMap:{type:Array,default:function(){return[!1,!0]}}},data:function(){return{currentValue:this.toBoolean(this.value)}},watch:{currentValue:function(t){var e=this.toRaw(t);this.$emit("input",e),this.$emit("on-change",e)},value:function(t){this.currentValue=this.toBoolean(t)}}}),u={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"inline-x-switch weui-switch",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){var a=t.currentValue,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.currentValue=a.concat([null])):s>-1&&(t.currentValue=a.slice(0,s).concat(a.slice(s+1)))}else t.currentValue=i}}})},staticRenderFns:[]};var p=a("C7Lr")(l,u,!1,function(t){a("Ecs9")},null,null).exports,v=(c.a,r.a,{directives:{TransferDom:c.a},components:{Popup:r.a,InlineXSwitch:p},data:function(){return{showPopup:!1,currentIndex:0,checkList:[],disabled:!0,certificateList:[],linkManInfo:"棋智科技",linkManPhone:"",showLinkMan:!1,linkManList:[],currentLinkManId:"",needPaper:!1,totalPerson:"",leveNames:"",examlevel:"",examPlanId:""}},computed:{totalPrice:function(){var t=0;return this.certificateList.forEach(function(e){t+=e.examFee}),t}},methods:{showPopupPage:function(){this.showPopup=!0},log:function(){},cancleBtn:function(){this.showPopup=!1,this.showLinkMan=!1},showLinkManPopupsPage:function(){this.showLinkMan=!0},selectCurrentLinkMan:function(t,e){var a=this;this.currentLinkManId=e,this.linkManInfo=t.linkman,this.linkManPhone=t.phone,setTimeout(function(){a.showLinkMan=!1,a.currentLinkManId=""},1e3)},submitOrder:function(){var t=this,e={examPlanId:this.examPlanId,linkMan:this.linkManInfo,phone:this.linkManPhone,totalFee:this.totalPrice,chessPlay:i()(this.certificateList),examLeve:this.examlevel};this.$axios.post("/api/enroll/submitOrder",o.a.stringify(e)).then(function(e){if(0===e.data.code){console.log(e,"获取订单编号");var a=e.data.data,n={certificateList:t.certificateList,createdTime:a.createdTime,orderNo:a.orderNo,orderId:a.id,totalPrice:t.totalPrice,unitPrice:t.totalPrice/t.certificateList.length};sessionStorage.setItem("detailsObj",i()(n)),t.$router.push({name:"certificatePay"})}})},mustBtn:function(){this.disabled=!this.disabled}},created:function(){var t=this;this.certificateList=JSON.parse(sessionStorage.getItem("checkList")),this.leveNames=this.certificateList[0].leveNames,this.examlevel=this.certificateList[0].examlevel,this.totalPerson=this.certificateList.length,this.examPlanId=this.certificateList[0].examPlanId;this.$axios.get("/api/linkman/linkman_list",{params:{userId:1}}).then(function(e){0===e.data.code&&(t.linkManList=e.data.data)})}}),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"certificatePage"},[a("div",{staticClass:"headerTop",on:{click:t.showPopupPage}},[a("i",{staticClass:"iconfont icon-zhushi"}),a("span",[t._v("申领说明")])]),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{on:{"on-hide":function(e){return t.log("hide")},"on-show":function(e){return t.log("show")}},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[a("div",{staticClass:"popupPage"},[a("div",{staticClass:"PopupTop"},[a("p",[t._v("申领说明")]),t._v(" "),a("span",{on:{click:t.cancleBtn}},[t._v("取消")])]),t._v(" "),a("ul",{staticClass:"popupContent"},[a("li",[a("h3",[t._v("证书说明")]),t._v(" "),a("p",[t._v("棋手通过相关段级位考试后，需在3个自然月内进行证书申领，逾期认证资格将作废。")]),t._v(" "),a("p",[t._v("申领成功后，将收到电子证书。")]),t._v(" "),a("p",[t._v("纸质证书根据认证棋手意愿支付获取。")])]),t._v(" "),a("li",[a("h3",[t._v("费用说明")]),t._v(" "),a("p",[t._v("证书费支付成功后不支持退款。")]),t._v(" "),a("p",[t._v("考试棋手跨级别考试通过后进行段级位认证需要补齐所跨全部级别的证书费。")])])])])])],1),t._v(" "),a("div",{staticClass:"linkManPart"},[a("div",{staticClass:"seletLinkman bottomBorder"},[a("p",[t._v("是否需要纸质证书")]),t._v(" "),a("p",[a("inline-x-switch",{model:{value:t.needPaper,callback:function(e){t.needPaper=e},expression:"needPaper"}})],1)]),t._v(" "),t.needPaper?t._e():a("div",{staticClass:"seletLinkman bottomBorder"},[a("p",[t._v("联系人")]),t._v(" "),a("p",[a("span",{staticClass:"defaultSpan"},[t._v("默认")]),t._v(" "),a("span",[t._v(t._s(t.linkManInfo))]),t._v(" "),a("span",[t._v(t._s(t.linkManPhone))]),t._v(" "),a("i",{staticClass:"iconfont icon-youjiantou",on:{click:t.showLinkManPopupsPage}})])]),t._v(" "),a("div",{staticClass:"seletLinkman bottomBorder"},[a("p",[t._v("发票信息")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"#B0B0B0"}},[t._v("非必填，可补开")]),a("i",{staticClass:"iconfont icon-youjiantou",on:{click:t.showLinkManPopupsPage}})])]),t._v(" "),t.needPaper?a("div",{staticClass:"seletLinkman"},[a("p",[t._v("收件地址")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"#B0B0B0"}},[t._v("请添加收件地址")]),a("i",{staticClass:"iconfont icon-youjiantou",on:{click:t.showLinkManPopupsPage}})])]):t._e()]),t._v(" "),a("div",{staticClass:"infoTop"},[a("p",[t._v("中国围棋协会段级位认证服务")]),a("span",[t._v("认证级别:"+t._s(t.leveNames))]),t._v(" "),a("span",[t._v(t._s(t.totalPerson)+"人")])]),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"100%",position:"bottom"},on:{"on-hide":function(e){return t.log("hide")},"on-show":function(e){return t.log("show")}},model:{value:t.showLinkMan,callback:function(e){t.showLinkMan=e},expression:"showLinkMan"}},[a("div",{staticClass:"popupPage"},[a("div",{staticClass:"PopupTop"},[a("p",[t._v("选择联系人")]),t._v(" "),a("span",{on:{click:t.cancleBtn}},[t._v("取消")])]),t._v(" "),a("div",{staticClass:"linkManListBox"},t._l(t.linkManList,function(e,n){return a("li",{key:n,on:{click:function(a){return t.selectCurrentLinkMan(e,n)}}},[a("p",{class:{activeLinkManStyle:t.currentLinkManId===n}},[a("span",[t._v(t._s(e.linkman))]),t._v(" "),a("span",{staticClass:"mtop4px"},[t._v(t._s(e.phone))]),t._v(" "),e.email?a("span",{staticClass:"mtop4px"},[t._v(t._s(e.email))]):t._e()]),t._v(" "),a("i",{staticClass:"iconfont icon-xiugai"})])}),0),t._v(" "),t._e(),t._v(" "),a("div",{staticClass:"btmBar"},[a("button",[t._v("新增联系人")])])])])],1),t._v(" "),a("div",{staticClass:"listBox"},[t._l(t.certificateList,function(e,n){return a("div",{key:n},[a("p",[a("span",{staticClass:"firstSpan"},[t._v(t._s(e.playerName))]),t._v(" "),a("span",[t._v(t._s(e.certificateNo))])]),t._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[t._v("电话号码")]),t._v(" "),a("span",[t._v(t._s(e.phone))])]),t._v(" "),a("p",{staticClass:"commonTagP"},[a("span",[t._v("认证服务费")]),a("span",[t._v("¥ "+t._s(e.examFee))])])])}),t._v(" "),a("p",{staticClass:"bottomTips"},[t._v("\n          已加载全部\n      ")])],2),t._v(" "),a("div",{staticClass:"bottomBar"},[a("div",{staticClass:"tips"},[a("span",{staticClass:"playCheckBox"},[a("input",{attrs:{type:"checkbox",id:"checkAll"},on:{change:t.mustBtn}}),t._v(" "),a("label",{attrs:{for:"checkAll"}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"payBtns"},[a("p",{staticClass:"firstP"},[a("span",[t._v("合计:")]),a("span",{staticStyle:{color:"#ED1A23","margin-left":"4px","font-weight":"600","font-size":"18px"}},[t._v("¥ "+t._s(t.totalPrice))])]),t._v(" "),a("button",{staticClass:"submitP",class:{darkBtn:!0===t.disabled},attrs:{disabled:t.disabled},on:{click:t.submitOrder}},[t._v("提交订单")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("勾选表示已阅读并同意"),e("a",{staticStyle:{color:"#2069e5"},attrs:{href:""}},[this._v("《服务协议》")])])}]};var h=a("C7Lr")(v,d,!1,function(t){a("PBdk")},"data-v-c360cfd4",null);e.default=h.exports},Ecs9:function(t,e){},PBdk:function(t,e){}});
//# sourceMappingURL=15.617460e88b3756a91c1e.js.map